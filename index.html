<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Django on Windows</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="theme/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="theme/css/screen.css">
    
    
      
      <link rel="stylesheet" href="manfre.css">
      
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="theme/js/slides.js"></script>
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide1">
          <div class="inner">
            
            <header><h1>Django on Windows</h1></header>
            
            
            <section><p>Michael Manfre</p>

<img alt="Clippy" src="images/clippy-help.png" />


</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>This talk will go over how I host a production Django site on windows, some the problems we faced, and decisions we made along the way.</p>
<p>Plenty of time for questions at the end.</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              1/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide2">
          <div class="inner">
            
            <header><h1>Michael Manfre</h1></header>
            
            
            <section><p>Developer at Semiconductor Research Corporation ®</p>
<blockquote>
Pioneers in research collaboration ™</blockquote>
<p>Maintainer of django-mssql</p>
<blockquote>
Django database backend for Microsoft SQL Server</blockquote>
<p>Developer at Brewed By Us, LLC</p>
<blockquote>
<a class="reference external" href="http://brewedbyus.com">http://brewedbyus.com</a> - Social home brewing web site to create and share recipes,
edit and evolve them, and keep a journal so you can keep a record of your brewing journey.</blockquote>
<p>Manfre LLC</p>
<blockquote>
IT consultant and custom software development with various languages and frameworks.</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              2/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide3">
          <div class="inner">
            
            <header><h1>Semiconductor Research Corporation ®</h1></header>
            
            
            <section><blockquote>
<p>&quot;Semiconductor Research Corporation (SRC) is the world's leading technology research consortium.
With member companies and university research programs spanning the globe, SRC plays an
indispensable part in the R&amp;D strategies of the industry's most influential entities.
SRC-sponsored university research is of the highest caliber and creates knowledge breakthroughs
that will invent the industries of tomorrow.&quot;</p>
<p class="attribution">&mdash;<a class="reference external" href="http://www.src.org/about/">http://www.src.org/about/</a></p>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              3/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide4 web-site-purpose">
          <div class="inner">
            
            <header><h1>Web site purpose</h1></header>
            
            
            <section><blockquote>
<ul class="simple">
<li>Knowledge transfer<ul>
<li>Publications</li>
<li>Reporting</li>
<li>Track research progress</li>
<li>Member feedback</li>
</ul>
</li>
<li>Meetings &amp; events</li>
<li>Student CV and recruitment</li>
</ul>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              4/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide5">
          <div class="inner">
            
            <header><h1>SRC's current web site</h1></header>
            
            
            <section><img alt="SRC homepage screenshot" src="images/homepage-screenshot.png" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              5/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide6">
          <div class="inner">
            
            <header><h1>Powered By</h1></header>
            
            
            <section><blockquote>
<ul class="simple">
<li>Apache</li>
<li>CruiseControl.net</li>
<li>Django 1.4.2</li>
<li>HAProxy (Ubuntu)</li>
<li>Memcached</li>
<li>Mercurial (Hg)</li>
<li>Microsoft SQL Server 2008r2</li>
<li>nAnt</li>
<li>PowerShell</li>
<li>RedGate SQL schema and data compare</li>
<li>Windows</li>
</ul>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              6/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide7">
          <div class="inner">
            
            <header><h1>Why Windows?</h1></header>
            
            
            <section><blockquote>
<ul class="simple">
<li>Windows shop<ul>
<li>IT knowledge</li>
</ul>
</li>
<li>Legacy Business Database on MS SQL<ul>
<li>Triggers, user funcs, stored procs, SSIS, SSRS</li>
<li>Replication not an option
(tech limitations and historical business reasons)</li>
</ul>
</li>
<li>Didn't have a choice</li>
</ul>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              7/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide8">
          <div class="inner">
            
            <header><h1>Why Django?</h1></header>
            
            
            <section><blockquote>
<ul class="simple">
<li>Previous iteration of site was VB6</li>
<li>ASP.NET workflow is a bit slower and heavier</li>
<li>Faster prototyping</li>
<li>Possibly more reasons, but decision made before I was hired</li>
</ul>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              8/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide9">
          <div class="inner">
            
            <header><h1>Why SQL Server?</h1></header>
            
            
            <section><ul class="simple">
<li>Legacy business database</li>
<li>Avoid extra database replication services</li>
<li>SQL Server (master) &lt;--&gt; OpenVMS --&gt; SQL Server (www)<ul>
<li>SSIS jobs pump data from www to OpenVMS and master</li>
</ul>
</li>
</ul>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
              <p>Secondary factors against Django supported database.
Oracle: Price;
Postgresql: Needed Cygwin;
MySQL: Feature limited;</p>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              9/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide10">
          <div class="inner">
            
            <header><h1>SQL Server database backends</h1></header>
            
            
            <section><h2>django-pyodbc</h2>
<blockquote>
<ul class="simple">
<li>Cross platform</li>
<li>Any ODBC connection</li>
<li>Missing datatypes and SQL Server specific features</li>
<li>Django 1.4 fork by Alex Vidal - <a class="reference external" href="https://github.com/avidal/django-pyodbc">https://github.com/avidal/django-pyodbc</a></li>
</ul>
</blockquote>


<h2>django-mssql</h2>
<blockquote>
<ul class="simple">
<li>Windows only</li>
<li>SQL server specific</li>
<li>Supports more datatypes and server features</li>
<li>Supports Django 1.2 - 1.5</li>
<li><a class="reference external" href="http://bitbucket.org/Manfre/django-mssql/">http://bitbucket.org/Manfre/django-mssql/</a></li>
</ul>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              10/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide11">
          <div class="inner">
            
            <header><h1>Future of Django-mssql</h1></header>
            
            
            <section><blockquote>
<ul class="simple">
<li>Will maintain support for any Django version still supported with security patches</li>
<li>Support Python 3</li>
<li>100% Pass Django test suite by Django 1.6<ul>
<li>Currently 13 failures, 13 errors</li>
</ul>
</li>
<li>Improve performance</li>
<li>MSSQL sugar<ul>
<li><tt class="docutils literal">raw_callproc</tt></li>
</ul>
</li>
<li>Continue to improve documentation<ul>
<li><a class="reference external" href="http://django-mssql.readthedocs.org">http://django-mssql.readthedocs.org</a></li>
</ul>
</li>
</ul>
</blockquote>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              11/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide12">
          <div class="inner">
            
            <header><h1>HTTP server choices</h1></header>
            
            
            <section><h2>Three main questions</h2>
<blockquote>
<ol class="arabic simple">
<li>Can it run as a service without extra tools?</li>
<li>Does it have any known issues that impact the project? (they all have issues)</li>
<li>Is the windows build actively maintained and supported?</li>
</ol>
</blockquote>


<h2>On Windows...</h2>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="26%" />
<col width="21%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Server</th>
<th class="head">Runs as Service</th>
<th class="head">Known Issues</th>
<th class="head">Actively Supported</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Apache</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr><td>IIS</td>
<td>Yes</td>
<td>No [1]</td>
<td>Yes</td>
</tr>
<tr><td>nginx</td>
<td>No</td>
<td>Yes [2]</td>
<td>Yes</td>
</tr>
<tr><td>Lighttpd</td>
<td>Yes</td>
<td>Yes [3]</td>
<td>No</td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Difficulty with automated build enviroment caused by changes between the various versions of
IIS. Each OS and sometimes service pack provides a different IIS version.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>Orphans worker processes.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td>Several documented issues in release notes at time of evaluation in 2009-2010. Windows
build no longer actively maintained.</td></tr>
</tbody>
</table></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              12/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide13">
          <div class="inner">
            
            <header><h1>Apache on Windows</h1></header>
            
            
            <section><ul class="simple">
<li>Actively maintained</li>
<li>Lots of features<ul>
<li>Can proxy if HAProxy or other option not available</li>
</ul>
</li>
<li>More resource heavy than other options</li>
<li>MPM: mpm_winnt<ul>
<li>One process, many threads</li>
</ul>
</li>
<li>mod_wsgi<ul>
<li>Module adds WSGI support for Apache. Daemon mode not supported on Windows.</li>
<li><a class="reference external" href="http://code.google.com/p/modwsgi/">http://code.google.com/p/modwsgi/</a></li>
</ul>
</li>
</ul>
<pre class="code literal-block">
LoadModule wsgi_module &quot;D:/web/modules/mod_wsgi-win32-ap22py26-3.3.so&quot;

&lt;IfModule wsgi_module&gt;
    WSGIScriptAlias / &quot;D:/web/&#64;SERVER_NAME&#64;.wsgi&quot;
    WSGIPassAuthorization On
&lt;/IfModule&gt;
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              13/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide14">
          <div class="inner">
            
            <header><h1>Useful Apache Modules</h1></header>
            
            
            <section><p>mod_rpaf</p>
<blockquote>
Fixes client IP for Apache sitting behind one or more trusted proxies.</blockquote>
<pre class="code literal-block">
LoadModule log_rotate_module &quot;D:/web/modules/mod_log_rotate.so&quot;

&lt;IfModule rpaf_module&gt;
    RPAFenable On
    RPAFsethostname On
    #             localhost lb1.src.org   lb2.src.org
    RPAFproxy_ips 127.0.0.1 192.168.1.10  10.10.10.10
    RPAFheader X-Forwarded-For
&lt;/IfModule&gt;
</pre>
<p>mod_xsendfile</p>
<blockquote>
Serve files gated by Django.</blockquote>
<pre class="code literal-block">
LoadModule xsendfile_module &quot;D:/web/modules/mod_xsendfile.so&quot;

&lt;IfModule xsendfile_module&gt;
    XSendFile on
    XSendFilePath &quot;E:/&quot;
    XSendFilePath &quot;//file_server/unc/path&quot;
    XSendFileIgnoreLastModified on
    XSendFileIgnoreEtag on
&lt;/IfModule&gt;
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              14/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide15">
          <div class="inner">
            
            <header><h1>Understanding the GIL</h1></header>
            
            
            <section><ul class="simple">
<li>Most pages have lots of IO<ul>
<li>Network (Request/Response)</li>
<li>Cache</li>
<li>Database</li>
<li>Disk (Templates)</li>
</ul>
</li>
<li>&quot;Understanding the GIL&quot; - David Beazley <a class="reference external" href="http://www.dabeaz.com/GIL/">http://www.dabeaz.com/GIL/</a><ul>
<li>Threads release their lock when blocking for IO</li>
</ul>
</li>
</ul>
<blockquote>
<dl class="docutils">
<dt>Dear SRC,</dt>
<dd>Congratulations on launching your new site. Sorry it buckled under non-peak load.</dd>
<dt>Sincerely,</dt>
<dd>Global Interpreter Lock</dd>
</dl>
</blockquote></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              15/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide16">
          <div class="inner">
            
            <header><h1>Faking Process Based MPM</h1></header>
            
            
            <section><h2>Web farm on a box</h2>
<blockquote>
<ul class="simple">
<li>Load balancing Apache instance<ul>
<li>HAProxy is a better option</li>
</ul>
</li>
<li><cite>N</cite>-worker instances</li>
<li>When worker crashes, site is still online</li>
<li>Configuration is ready to scale</li>
</ul>
</blockquote>

<img alt="Web Farm" src="images/webfarm.png" /></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              16/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide17">
          <div class="inner">
            
            <header><h1>Load balancing Apache instance</h1></header>
            
            
            <section><h2>Basic balancer config</h2>
<pre class="code literal-block">
&lt;Proxy balancer://cluster&gt;
    BalancerMember http://192.168.1.100:9001 smax=3 max=10 ttl=120 route=www_1
    BalancerMember http://192.168.1.100:9002 smax=3 max=10 ttl=120 route=www_2
    BalancerMember http://192.168.1.100:9003 smax=3 max=10 ttl=120 route=www_3
&lt;/Proxy&gt;

ProxyPass / balancer://cluster/
ProxyPassReverse / balancer://cluster/
</pre>
<ul class="simple">
<li>Serves static files</li>
<li>Responsible for web logs</li>
<li>mod_proxy modules have been known to leak memory</li>
<li>SSL endpoint</li>
<li>Rewrite rules</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              17/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide18">
          <div class="inner">
            
            <header><h1>Apache worker instances</h1></header>
            
            
            <section><ul>
<li><p class="first">Configure to behave like a WSGI daemon</p>
<ul class="simple">
<li>Apache balancer should handle everything not needed by Django project</li>
</ul>
</li>
<li><p class="first">Disable logging</p>
<pre class="code literal-block">
LogFormat &quot; &quot; empty
# Below will never output anything, but it will create an empty file
CustomLog &quot;D:/logs/carme/apache/access-1.log&quot; empty env=NOTHING_IS_LOGGED
</pre>
</li>
<li><p class="first">If using HAProxy</p>
<ul class="simple">
<li>Include rewrite rules</li>
<li>Add a stand alone instance for static content</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              18/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide19 build-deploy">
          <div class="inner">
            
            <header><h1>Build and Deploy</h1></header>
            
            
            <section><blockquote>

<img alt="CCTray with builds" src="images/cctray.png" />

</blockquote>
<ul class="simple">
<li>CruiseControl.net - <a class="reference external" href="http://www.cruisecontrolnet.org/">http://www.cruisecontrolnet.org/</a></li>
<li>nAnt - <a class="reference external" href="http://nant.sourceforge.net">http://nant.sourceforge.net</a></li>
<li><tt class="docutils literal">psexec</tt> for remote execution</li>
<li>RedGate SQL Schema Compare</li>
</ul>

</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              19/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide20">
          <div class="inner">
            
            <header><h1>Virtualenv</h1></header>
            
            
            <section><ul class="simple">
<li>Always create virtualenv with <tt class="docutils literal"><span class="pre">--system-site-packages</span></tt> due to <cite>pywin32</cite><ul>
<li>Many DLL python packages will not install properly in to a virtualenv.</li>
</ul>
</li>
</ul>
<pre class="code literal-block">
virtualenv env --system-site-packages
</pre>
<ul class="simple">
<li><tt class="docutils literal">pywin32</tt> installer issues with some version.<ul>
<li>Only install for one python version on a machine</li>
</ul>
</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              20/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide21">
          <div class="inner">
            
            <header><h1>Virtualenv Wrapper</h1></header>
            
            
            <section><p>virtualenvwrapper-win</p>
<blockquote>
Windows port of virtualenvwrapper.
<a class="reference external" href="http://www.doughellmann.com/projects/virtualenvwrapper/">http://www.doughellmann.com/projects/virtualenvwrapper/</a></blockquote>
<p>Install</p>
<pre class="code literal-block">
pip install virtualenvwrapper virtualenvwrapper-win
</pre>
<p>Create virtualenv</p>
<pre class="code literal-block">
mkvirtualenv myproject --system-site-packages
</pre>
<p>Switch virtualenv</p>
<pre class="code literal-block">
C:\&gt; workon myproject
(myproject) C:\&gt;
</pre>
<p>Leave virtualenv</p>
<pre class="code literal-block">
(myproject) C:\&gt; deactivate
C:\&gt;
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              21/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide22">
          <div class="inner">
            
            <header><h1>Unit Tests</h1></header>
            
            
            <section><p>Test actual schema or fake logic?</p>
<blockquote>
<ul class="simple">
<li>Computed Fields</li>
<li>Stored Procedures</li>
<li>Triggers</li>
<li>Views</li>
</ul>
</blockquote>
<p>Custom <tt class="docutils literal">create_test_db</tt> management command</p>
<pre class="code literal-block">
&gt; python manage.py create_test_db
Bouncing database test_db_name
Dropping database test_db_name
Creating database test_db_name
Finding Files: &lt;path pattern&gt;
Reading File: &lt;file-1&gt;
Reading File: &lt;file-n&gt;
... repeats previous Finding and Reading many times ...
Loading Seed Data
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              22/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide23">
          <div class="inner">
            
            <header><h1>Django-mssql <tt class="docutils literal">TEST_CREATE</tt> Setting</h1></header>
            
            
            <section><p>test_settings.py</p>
<pre class="code python literal-block">
<span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'default'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'NAME'</span><span class="p">:</span> <span class="s">'test_db_name'</span><span class="p">,</span>
        <span class="s">'HOST'</span><span class="p">:</span> <span class="s">r'servername\ss2008'</span><span class="p">,</span>
        <span class="s">'TEST_NAME'</span><span class="p">:</span> <span class="s">'test_db_name'</span><span class="p">,</span>
        <span class="s">'TEST_CREATE'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
<p>Run tests normally</p>
<pre class="code literal-block">
&gt; python manage.py test
Creating test database for alias 'default'...
Skipping Test DB creation
...

OK
Destroying test database for alias 'default'...
Skipping Test DB destruction
</pre></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              23/24
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: slides.rst -->
      <div class="slide-wrapper">
        <div class="slide slide24 questions">
          <div class="inner">
            
            <header><h1>Questions And Feedback</h1></header>
            
            
            <section>
<img alt="Manfre's avatar" src="images/manfre-crest.png" />

<p>Michael Manfre</p>
<ul class="simple">
<li>Twitter: <a class="reference external" href="http://twitter.com/manfre">&#64;manfre</a></li>
<li>BitBucket: <a class="reference external" href="https://bitbucket.org/Manfre/">https://bitbucket.com/Manfre/</a></li>
<li>Github: <a class="reference external" href="https://github.com/manfre/">https://github.com/manfre/</a></li>
<li>Freenode: manfre</li>
<li>Slides: <a class="reference external" href="http://manfre.github.com/django-on-windows-talk/">http://manfre.github.com/django-on-windows-talk/</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="slides.rst">slides.rst</a>
            </aside>
            
            <aside class="page_number">
              24/24
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1">Django on Windows</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">Michael Manfre</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">Semiconductor Research Corporation ®</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Web site purpose</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">SRC's current web site</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6">Powered By</a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">Why Windows?</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8">Why Django?</a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Why SQL Server?</a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">SQL Server database backends</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Future of Django-mssql</a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">HTTP server choices</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">Apache on Windows</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14">Useful Apache Modules</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">Understanding the GIL</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">Faking Process Based MPM</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">Load balancing Apache instance</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">Apache worker instances</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">Build and Deploy</a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">Virtualenv</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">Virtualenv Wrapper</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">Unit Tests</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">Django-mssql <tt class="docutils literal">TEST_CREATE</tt> Setting</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">Questions And Feedback</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Exposé</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>